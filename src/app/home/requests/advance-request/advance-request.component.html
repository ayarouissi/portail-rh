<div class="request-form-container">
  <h2>{{ editMode ? 'Modifier la demande d\'avance' : 'Nouvelle demande d\'avance' }}</h2>
  
  <form [formGroup]="advanceForm" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="advanceAmount">Montant de l'avance (€)</label>
      <input type="number" id="advanceAmount" formControlName="advanceAmount" class="form-control">
      <div class="error-message" *ngIf="advanceForm.get('advanceAmount')?.invalid && advanceForm.get('advanceAmount')?.touched">
        Le montant de l'avance est requis et doit être positif
      </div>
    </div>

    <div class="form-group">
      <label for="advanceReason">Motif de l'avance</label>
      <textarea id="advanceReason" formControlName="advanceReason" class="form-control"></textarea>
      <div class="error-message" *ngIf="advanceForm.get('advanceReason')?.invalid && advanceForm.get('advanceReason')?.touched">
        Le motif de l'avance est requis
      </div>
    </div>

    <div class="form-group">
      <label for="repaymentDate">Date de remboursement</label>
      <input type="date" id="repaymentDate" formControlName="repaymentDate" class="form-control">
      <div class="error-message" *ngIf="advanceForm.get('repaymentDate')?.invalid && advanceForm.get('repaymentDate')?.touched">
        La date de remboursement est requise
      </div>
    </div>

    <div class="form-actions">
      <button type="button" class="btn-cancel" (click)="onCancel()">Annuler</button>
      <button type="submit" class="btn-submit" [disabled]="!advanceForm.valid">
        {{ editMode ? 'Modifier' : 'Soumettre' }}
      </button>
    </div>
  </form>
</div>
